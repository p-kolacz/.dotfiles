#!/bin/bash

CONFIG="$HOME/.config"
THEMES="$HOME/.dotfiles/share/themes"

browse() {
	local file=$(ls $THEMES/*sh | fzf)
	apply "$file"
}

apply() {
	[[ -f $1 ]] || { echo "Invalid file: $1"; exit 1; }

	source "$1"

	# Kitty
	envsubst < "$CONFIG/kitty/colors/auto.template.conf" > "$CONFIG/kitty/colors/auto.conf"

[[ -z $1 ]] && browse || apply "$1"

